<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>etch-a-sketch</title>
    <link href="styles/style.css" rel="stylesheet">
  </head>
  <body>

    <div id="menu">
      <button id="clearButton" onclick="clearBoard()">Clear</button>
    </div>

    <div id="container">

    </div>

    
    <script>

      let squares;
      let resolution;

      function createBoard(resolution) {
        let div;
        let container = document.querySelector('#container');
        let fragment = document.createDocumentFragment();

        for (let i=0; i<resolution; i++){
          for (let j=0; j<resolution; j++) {
            div = document.createElement('div');
            fragment.appendChild(div);
          }
        }
        container.appendChild(fragment);

        let boardStyle = window.getComputedStyle(container);

        let rowNum = parseInt(boardStyle.getPropertyValue("--rowNum"));
        document.documentElement.style.setProperty("--rowNum", resolution);

        let colNum = parseInt(boardStyle.getPropertyValue("--colNum"));
        document.documentElement.style.setProperty("--colNum", resolution);
        

        squares = container.querySelectorAll('div');
        squares.forEach(div => div.addEventListener('mouseover', changeColor));


      };

      window.onload = createBoard(16);

      function changeColor(e) {
        e.target.style.backgroundColor = 'burlywood';
      }

      function clearBoard() {
        squares.forEach(div => div.style.backgroundColor = "white");
        resolution = prompt("Please enter grid resolution");
        if (typeof(resolution) != "number" || resolution == null) {
          return;
        }
        createBoard(resolution);
        
      }
        
        
        //container.style.gridTemplateColumns = "repeat(resolution, 1fr)";
        //container.style.gridTemplateRows = "repeat(resolution, 1fr)";
        //.setAttribute("class", "square")
       

    </script>
  </body>
</html>

